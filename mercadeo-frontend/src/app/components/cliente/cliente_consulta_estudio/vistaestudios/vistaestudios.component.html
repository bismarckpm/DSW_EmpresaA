<app-navigation></app-navigation>

<button [routerLink]="['/crearestudio']" mat-fab color="primary"
  style="position: fixed; right: 2rem; top: 5rem;">
  <mat-icon>add</mat-icon>
</button>

<div style="display: flex; margin: 15px;">
  <button [routerLink]="['/']" mat-icon-button color="primary">
    <mat-icon>arrow_back</mat-icon>
  </button>
  <h2 class="mt-1">Estudios</h2>
</div>


<div class="container">
  <div class="row">
    <div class="col-sm-3">
      <a id="caja1" role="button" class="btn btn-outline-dark btn-lg btn-block text-center" (click)="ShowDiv('A')">
        <span><i class="fa fa-folder"></i></span>
        <br>Ver estudios solicitados
      </a>
    </div>
    <div class="col-sm-3">
      <a id="caja1" role="button" class="btn btn-outline-dark btn-lg btn-block text-center " (click)="ShowDiv('B')">
        <span><i class="fa fa-tablet"></i></span>
        <br>Resultados de estudios
      </a>
    </div>
  </div>
</div>


<div class="container mt-5" *ngIf="currDiv == 'A'">
  <table class="table table-hover" data-pagination="true" data-toggle="table">
    <thead id="thead-color">
      <tr>
        <th scope="col">CÃ³digo</th>
        <th scope="col">Estudio</th>
        <th scope="col">Estatus</th>
        <th scope="col">Fecha inicio</th>
        <th scope="col">Fecha Fin</th>
        <th scope="Col"></th>
      </tr>
    </thead>
    <tbody *ngFor="let estudios of estudio">
      <tr *ngIf="estudios.status != 'Finalizado'">
        <th scope="row">{{estudios.id}}</th>
        <td>{{estudios.nombre}}</td>
        <td>{{estudios.status}}</td>
        <td>{{estudios.fechaInicio}}</td>
        <td>{{estudios.fechaFinal}}</td>
        <td><button [routerLink]="['/']" mat-icon-button color="primary" style="color: #00adeb">
            <mat-icon>create</mat-icon>
          </button>
          <button mat-icon-button color="warn">
            <mat-icon>delete</mat-icon>
          </button></td>
      </tr>

    </tbody>
  </table>
</div>


<div class="container-j  mt-5" *ngIf="currDiv == 'B'">
  <div *ngFor="let estudios of estudio">
    <div class="row" style="margin: 7%;">
      <mat-card class="card" style="width: '20rem';" *ngIf="estudios.status == 'Finalizado'">
        <mat-card-header>
          <mat-card-title>Estudio: {{estudios.nombre}}
            <hr>
          </mat-card-title>
          <mat-card-subtitle>Estatus: {{estudios.status}}</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>Aqui va el resultado {{estudios.id}}</mat-card-content>
        <mat-card-actions>
          <button mat-icon-button [routerLink]="['/resultadosEstudio']" color="primary" style="color: #00adeb"(click)="verEstudio(estudios.id)">
            <mat-icon>description</mat-icon>
          </button>
        </mat-card-actions>
      </mat-card>
    </div>
  </div>
</div>


